<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>carry.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">carry</span> <span class="project-version">0.2.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="carry.core.html"><div class="inner"><span>carry.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="carry.core.html#var-app"><div class="inner"><span>app</span></div></a></li><li class="depth-1"><a href="carry.core.html#var-entangle"><div class="inner"><span>entangle</span></div></a></li><li class="depth-1"><a href="carry.core.html#var-set-readonly.21"><div class="inner"><span>set-readonly!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">carry.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-app"><h3>app</h3><div class="usage"><code>(app {:keys [initial-model control reconcile], :as _spec})</code></div><div class="doc"><div class="markdown"><p>Constructs an app from a spec map with keys: :initial-model - Initial model value, must be a map.</p>
<p>:control - Function of args: [model-readonly-atom signal dispatch-signal dispatch-action]. It performs side effects, can dispatch actions and new signals. By convention, it must be able to handle :on-start and :on-stop signals in order to be wrappable by middleware. Model atom is useful for reading actual model values in async code and to subscribe to model changes. Functions dispatch-signal and dispatch-action always return nil.</p>
<p>:reconcile - Pure function of args: [model-value action]. Given an action, it must return the new model value.</p>
<p>Returned app is a map with keys: :model - A readonly model atom.</p>
<p>:dispatch-signal - Function with a single arg: a signal to be sent to an app. Returns nil.</p>
<p>Data flow: -dispatch-signal-&gt; (control) -dispatch-action-&gt; (reconcile)</p></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljs#L30">view source</a></div></div><div class="public anchor" id="var-entangle"><h3>entangle</h3><div class="usage"><code>(entangle a f)</code><code>(entangle a f constructor)</code></div><div class="doc"><div class="markdown"><p>Returns a readonly atom which automatically syncs its value from (f @a). Args: f - pure function, a - atom, contructor - optional atom contructor, default: atom.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljs#L58">view source</a></div></div><div class="public anchor" id="var-set-readonly.21"><h3>set-readonly!</h3><div class="usage"><code>(set-readonly! a)</code></div><div class="doc"><div class="markdown"><p>Prohibits swap!/reset! for the specified atom. Returns the updated atom.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljs#L9">view source</a></div></div></div></body></html>