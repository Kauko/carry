<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>carry.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Carry</span> <span class="project-version">0.3.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="carry.core.html"><div class="inner"><span>carry.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="carry.core.html#var-app"><div class="inner"><span>app</span></div></a></li><li class="depth-1"><a href="carry.core.html#var-entangle"><div class="inner"><span>entangle</span></div></a></li><li class="depth-1"><a href="carry.core.html#var-read-only.3F"><div class="inner"><span>read-only?</span></div></a></li><li class="depth-1"><a href="carry.core.html#var-set-read-only.21"><div class="inner"><span>set-read-only!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">carry.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-app"><h3>app</h3><div class="usage"><code>(app {:keys [initial-model control reconcile], :as _spec})</code></div><div class="doc"><div class="markdown"><p>Constructs an app from a spec map with keys:</p>
<ul>
  <li><code>:initial-model</code> - Initial model value, must be a map.</li>
  <li><code>:control</code> - Function of args: <code>[model signal dispatch-signal dispatch-action]</code>. It performs side effects, can dispatch actions and new signals. By convention, it must be able to handle <code>:on-start</code> and <code>:on-stop</code> signals in order to be wrappable by middleware. Read-only model atom is useful for reading actual model values in async code and to subscribe to model changes. Functions <code>dispatch-signal</code> and <code>dispatch-action</code> always return <code>nil</code>.</li>
  <li><code>:reconcile</code> - Pure function of args: <code>[model action]</code>. Given an action and current model value, it must return the new model value.</li>
</ul>
<p>Returns a map with keys:</p>
<ul>
  <li><code>:model</code> - A read-only model atom.</li>
  <li><code>:dispatch-signal</code> - Function with a single arg: a signal to be sent to an app. Returns <code>nil</code>.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljc#L48">view source</a></div></div><div class="public anchor" id="var-entangle"><h3>entangle</h3><div class="usage"><code>(entangle a f)</code><code>(entangle a f constructor)</code></div><div class="doc"><div class="markdown"><p>Returns a read-only atom which automatically syncs its value from <code>(f @a)</code>. Arguments:</p>
<ul>
  <li><code>f</code> - pure function</li>
  <li><code>a</code> - atom</li>
  <li><code>contructor</code> - atom contructor, default value: <code>atom</code></li>
</ul></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljc#L73">view source</a></div></div><div class="public anchor" id="var-read-only.3F"><h3>read-only?</h3><div class="usage"><code>(read-only? a)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if atom <code>a</code> is read-only.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljc#L4">view source</a></div></div><div class="public anchor" id="var-set-read-only.21"><h3>set-read-only!</h3><div class="usage"><code>(set-read-only! a)</code></div><div class="doc"><div class="markdown"><p>Makes the specified atom read-only: an excpetion will be raised after atom value is changed. Returns the updated atom.</p></div></div><div class="src-link"><a href="https://github.com/metametadata/carry/blob/master/src/carry/core.cljc#L14">view source</a></div></div></div></body></html>